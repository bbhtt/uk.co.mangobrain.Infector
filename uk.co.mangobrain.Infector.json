{
  "app-id": "uk.co.mangobrain.Infector",
  "runtime": "org.gnome.Platform",
  "runtime-version": "3.34",
  "sdk": "org.gnome.Sdk",
  "command": "infector",
  "rename-icon": "infector",
  "rename-desktop-file": "infector.desktop",
  "finish-args": [
    "--socket=wayland",
    "--share=ipc",
    "--socket=x11",
    "--share=network"
  ],
  "cleanup": ["/include", "/lib"],
  "build-options": {
    "cxxflags": "-std=c++17"
  },
  "modules": [
    {
      "name": "sigc++",
      "config-opts": [
        "--disable-deprecated-api",
        "--enable-static=yes",
        "--enable-shared=no",
        "--disable-documentation"
      ],
      "sources": [
        {
          "type": "archive",
          "url": "https://download.gnome.org/sources/libsigc++/2.10/libsigc++-2.10.1.tar.xz",
          "sha256": "c9a25f26178c6cbb147f9904d8c533b5a5c5111a41ac2eb781eb734eea446003"
        }
      ]
    },
    {
      "name": "glibmm",
      "config-opts": [
        "--enable-static=yes",
        "--enable-shared=no",
        "--disable-documentation"
      ],
      "sources": [
        {
          "type": "archive",
          "url": "https://download.gnome.org/sources/glibmm/2.62/glibmm-2.62.0.tar.xz",
          "sha256": "36659f13cc73282392d1305858f3bbca46fbd1ce2f078cc9db8b9f79b2e93cfe"
        }
      ]
    },
    {
      "name": "cairomm",
      "config-opts": [
        "--enable-static=yes",
        "--enable-shared=no",
        "--disable-documentation"
      ],
      "sources": [
        {
          "type": "archive",
          "url": "https://download.gnome.org/sources/cairomm/1.12/cairomm-1.12.0.tar.xz",
          "sha256": "a54ada8394a86182525c0762e6f50db6b9212a2109280d13ec6a0b29bfd1afe6"
        }
      ]
    },
    {
      "name": "pangomm",
      "config-opts": [
        "--disable-deprecated-api",
        "--enable-static=yes",
        "--enable-shared=no",
        "--disable-documentation"
      ],
      "sources": [
        {
          "type": "archive",
          "url": "https://download.gnome.org/sources/pangomm/2.42/pangomm-2.42.0.tar.xz",
          "sha256": "ca6da067ff93a6445780c0b4b226eb84f484ab104b8391fb744a45cbc7edbf56"
        }
      ]
    },

    {
      "name": "atkmm",
      "config-opts": [
        "--disable-deprecated-api",
        "--enable-static=yes",
        "--enable-shared=no",
        "--disable-documentation"
      ],
      "sources": [
        {
          "type": "archive",
          "url": "https://download.gnome.org/sources/atkmm/2.28/atkmm-2.28.0.tar.xz",
          "sha256": "4c4cfc917fd42d3879ce997b463428d6982affa0fb660cafcc0bc2d9afcedd3a"
        }
      ]
    },
    {
      "name": "gtkmm",
      "config-opts": [
        "--enable-win32-backend=no",
        "--enable-x11-backend=yes",
        "--enable-wayland-backend=yes",
        "--enable-broadway-backend=no",
        "--enable-static=yes",
        "--enable-shared=no",
        "--disable-documentation"
      ],
      "sources": [
        {
          "type": "archive",
          "url": "https://download.gnome.org/sources/gtkmm/3.24/gtkmm-3.24.2.tar.xz",
          "sha256": "6d71091bcd1863133460d4188d04102810e9123de19706fb656b7bb915b4adc3"
        }
      ]
    },
    {
      "name": "infector",
      "buildsystem": "meson",
      "sources": [
        {
          "type": "archive",
          "url": "http://infector.mangobrain.co.uk/downloads/infector-0.7.tar.xz",
          "sha256": "53ffc1ff2e6389b72eb798a06e59efee393baf5cda096e73547513e9322143bf"
        },
        {
          "type": "file",
          "path": "uk.co.mangobrain.Infector.metainfo.xml"
        }
      ],
      "post-install": [
        "install -Dm644 -t /app/share/metainfo/ ../${FLATPAK_ID}.metainfo.xml"
      ]
    }
  ]
}
